system.vipps:
  path: '/admin/config/vipps'
  defaults:
    _controller: '\Drupal\system\Controller\SystemController::systemAdminMenuBlockPage'
    _title: 'Vipps configuration options'
  requirements:
    _permission: 'administer site configuration'

vipps_recurring_payments.settings:
  path: '/admin/config/vipps/vipps-recurring-payments'
  defaults:
    _form: '\Drupal\vipps_recurring_payments\Form\SettingsForm'
    _title: 'Vipps recurring payments configuration'
  requirements:
    _permission: 'administer site configuration'

vipps_recurring_payments.test_auth:
  path: '/vipps-recurring-payments/test/auth'
  defaults:
    _controller: Drupal\vipps_recurring_payments\Controller\TestController:auth
  options:
    _auth: [ 'basic_auth' ]
  requirements:
    _user_is_logged_in: 'TRUE'
    _format: json

vipps_recurring_payments.make_charges:
  path: '/vipps-recurring-payments/charge/make'
  methods: [POST]
  defaults:
    _controller: Drupal\vipps_recurring_payments\Controller\ChargeController:make
  options:
    _auth: [ 'basic_auth' ]
  requirements:
    _user_is_logged_in: 'TRUE'
    _format: json

vipps_recurring_payments.cancel_charges:
  path: '/vipps-recurring-payments/charge/cancel'
  methods: [DELETE]
  defaults:
    _controller: Drupal\vipps_recurring_payments\Controller\ChargeController:cancel
  options:
    _auth: [ 'basic_auth' ]
  requirements:
    _user_is_logged_in: 'TRUE'
    _format: json

vipps_recurring_payments.refund_charges:
  path: '/vipps-recurring-payments/charge/refund'
  methods: [POST]
  defaults:
    _controller: Drupal\vipps_recurring_payments\Controller\ChargeController:refund
  options:
    _auth: [ 'basic_auth' ]
  requirements:
    _user_is_logged_in: 'TRUE'
    _format: json

vipps_recurring_payments.get_charges:
  path: '/vipps-recurring-payments/charge/get'
  methods: [POST]
  defaults:
    _controller: Drupal\vipps_recurring_payments\Controller\ChargeController:get
  options:
    _auth: [ 'basic_auth' ]
  requirements:
    _user_is_logged_in: 'TRUE'
    _format: json

vipps_recurring_payments.get_agreement:
  path: '/vipps-recurring-payments/agreement/get'
  methods: [POST]
  defaults:
    _controller: Drupal\vipps_recurring_payments\Controller\AgreementController:get
  options:
    _auth: [ 'basic_auth' ]
  requirements:
    _user_is_logged_in: 'TRUE'
    _format: json

vipps_recurring_payments.cancel_agreement:
  path: '/vipps-recurring-payments/agreement/cancel'
  methods: [PATCH]
  defaults:
    _controller: Drupal\vipps_recurring_payments\Controller\AgreementController:cancel
  options:
    _auth: [ 'basic_auth' ]
  requirements:
    _user_is_logged_in: 'TRUE'
    _format: json

vipps_recurring_payments.merchant_agreement:
  path: '/vrp/merchant-agreement'
  defaults:
    _controller: Drupal\vipps_recurring_payments\Controller\AgreementController:merchantAgreement
  requirements:
    _access: 'TRUE'
